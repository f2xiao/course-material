<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.27">
    <title>Web Cookies | Course Material</title><meta name="description" content="">
    <link rel="preload" href="/course-material/assets/js/runtime~app.56804a52.js" as="script"><link rel="preload" href="/course-material/assets/css/styles.60e6ff5b.css" as="style"><link rel="preload" href="/course-material/assets/js/1812.04b2fb73.js" as="script"><link rel="preload" href="/course-material/assets/js/app.f6603639.js" as="script">
    <link rel="stylesheet" href="/course-material/assets/css/styles.60e6ff5b.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/course-material/" class=""><!----><span class="site-name">Course Material</span></a></span><div class="navbar-links-wrapper" style=""><!--[--><!--]--><nav class="navbar-links can-hide"><!--[--><div class="navbar-links-item"><a href="/course-material/" class="nav-link" aria-label="Home"><!--[--><!--]--> Home <!--[--><!--]--></a></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Courses"><span class="title">Courses</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Courses"><span class="title">Courses</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/course-material/courses/android-development/" class="nav-link" aria-label="Android Development 2022"><!--[--><!--]--> Android Development 2022 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/course-material/courses/client-server-communication/" class="nav-link" aria-label="Client-Server Communication 2019"><!--[--><!--]--> Client-Server Communication 2019 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/course-material/courses/git/" class="nav-link" aria-label="Git"><!--[--><!--]--> Git <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/course-material/courses/introduction-to-script-programming/" class="nav-link" aria-label="Introduction to Script Programming 2021"><!--[--><!--]--> Introduction to Script Programming 2021 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/course-material/courses/web-development-advanced-concepts/" class="nav-link" aria-label="Web Development - Advanced Concepts 2022"><!--[--><!--]--> Web Development - Advanced Concepts 2022 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/course-material/courses/web-development-fundamentals/" class="nav-link" aria-label="Web Development Fundamentals 2021"><!--[--><!--]--> Web Development Fundamentals 2021 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><a class="nav-link external" href="https://github.com/PeppeL-G/course-material/issues" rel="noopener noreferrer" target="_blank" aria-label="Get Help"><!--[--><!--]--> Get Help <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-links"><!--[--><div class="navbar-links-item"><a href="/course-material/" class="nav-link" aria-label="Home"><!--[--><!--]--> Home <!--[--><!--]--></a></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Courses"><span class="title">Courses</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Courses"><span class="title">Courses</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/course-material/courses/android-development/" class="nav-link" aria-label="Android Development 2022"><!--[--><!--]--> Android Development 2022 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/course-material/courses/client-server-communication/" class="nav-link" aria-label="Client-Server Communication 2019"><!--[--><!--]--> Client-Server Communication 2019 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/course-material/courses/git/" class="nav-link" aria-label="Git"><!--[--><!--]--> Git <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/course-material/courses/introduction-to-script-programming/" class="nav-link" aria-label="Introduction to Script Programming 2021"><!--[--><!--]--> Introduction to Script Programming 2021 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/course-material/courses/web-development-advanced-concepts/" class="nav-link" aria-label="Web Development - Advanced Concepts 2022"><!--[--><!--]--> Web Development - Advanced Concepts 2022 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/course-material/courses/web-development-fundamentals/" class="nav-link" aria-label="Web Development Fundamentals 2021"><!--[--><!--]--> Web Development Fundamentals 2021 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><a class="nav-link external" href="https://github.com/PeppeL-G/course-material/issues" rel="noopener noreferrer" target="_blank" aria-label="Get Help"><!--[--><!--]--> Get Help <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-links"><!--[--><!--[--><p class="sidebar-heading sidebar-item">Web Cookies</p><ul class=""><li><!--[--><a aria-current="page" href="/course-material/lectures/web-cookies/#http-is-stateless" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="HTTP is stateless"><!--[--><!--]--> HTTP is stateless <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/course-material/lectures/web-cookies/#what-is-a-cookie" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="What is a cookie?"><!--[--><!--]--> What is a cookie? <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/course-material/lectures/web-cookies/#how-do-cookies-work" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="How do cookies work?"><!--[--><!--]--> How do cookies work? <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/course-material/lectures/web-cookies/#creating-a-cookie" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Creating a cookie"><!--[--><!--]--> Creating a cookie <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/course-material/lectures/web-cookies/#sending-a-cookie" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Sending a cookie"><!--[--><!--]--> Sending a cookie <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li><li><!--[--><a aria-current="page" href="/course-material/lectures/web-cookies/#configuring-cookies" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Configuring cookies"><!--[--><!--]--> Configuring cookies <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/course-material/lectures/web-cookies/#what-can-we-use-cookies-for" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="What can we use cookies for?"><!--[--><!--]--> What can we use cookies for? <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/course-material/lectures/web-cookies/#anything-special-to-think-about-when-using-cookies" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Anything special to think about when using cookies?"><!--[--><!--]--> Anything special to think about when using cookies? <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/course-material/lectures/web-cookies/#the-server-can-t-trust-cookies" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="The server can&#39;t trust cookies"><!--[--><!--]--> The server can&#39;t trust cookies <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/course-material/lectures/web-cookies/#the-cookie-law" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="The cookie law"><!--[--><!--]--> The cookie law <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/course-material/lectures/web-cookies/#gdpr" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="GDPR"><!--[--><!--]--> GDPR <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li></ul><!--]--><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="web-cookies" tabindex="-1"><a class="header-anchor" href="#web-cookies" aria-hidden="true">#</a> Web Cookies</h1><p>A cookie is something a web application can use to remember information about a user. The specification <a href="https://tools.ietf.org/html/rfc6265" target="_blank" rel="noopener noreferrer">HTTP State Management Mechanism<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a> explains how it works in detail, but let me give you a quick introduction to cookies before you read the specification.</p><h2 id="http-is-stateless" tabindex="-1"><a class="header-anchor" href="#http-is-stateless" aria-hidden="true">#</a> HTTP is stateless</h2><p>So, why do we have cookies? We have cookies because HTTP is a stateless protocol. What that means in practice is that when the server receives an HTTP request from a client, that HTTP request should contain all information the server needs to carry out the request. The server should not need to have any memory of previous HTTP requests it has received and carried out. If it would need to remember that, then HTTP wouldn&#39;t be a stateless protocol. So when a server has carried out an HTTP request, it can simply forget everything about that request and the client the request came from.</p><p>So, why is HTTP a stateless protocol? There are some benefits with being stateless. For one, it is much easier to implement the server, because each incoming HTTP request contains all information it needs to carry out the request; no need to look at previous requests or to remember this request in the future. Another benefit is that it is also easier to scale the server if clients communicate with it using a stateless protocol, but let&#39;s not get into the details about that here.</p><p>So, why did we have cookies again? Imagine users can create accounts and login on our website. When a user sends a login request (username and password) to the server, then the server needs to check if these credentials are correct, and if they are, the user should be logged in to that account. When the user in the future sends a new request to the server, the server needs to remember which account that user is logged in to. Since HTTP is a stateless protocol, the server can&#39;t remember such information using HTTP. For this, and many other use-cases, we use cookies.</p><h2 id="what-is-a-cookie" tabindex="-1"><a class="header-anchor" href="#what-is-a-cookie" aria-hidden="true">#</a> What is a cookie?</h2><p>A cookie is simply a key-value pair, where the key (a string) is a short description of the value (which also is a string). The key is sometimes also called the name of the cookie.</p><div class="custom-container tip"><p class="custom-container-title">Example</p><p>If the server needs to remember that the user is 17 years old, then it could create a cookie with the key <code>age</code> and the value <code>17</code>.</p></div><div class="custom-container tip"><p class="custom-container-title">Example</p><p>If the server needs to remember that a user lives in Jönköping, then it could create a cookie with the key <code>city</code> and the value <code>Jönköping</code>.</p></div><p>In addition to this, a cookie can also have some other attributes, but let us get back to those later.</p><h2 id="how-do-cookies-work" tabindex="-1"><a class="header-anchor" href="#how-do-cookies-work" aria-hidden="true">#</a> How do cookies work?</h2><p>So, using cookies, a server can remember information about a client. It works something like this:</p><ol><li>A client sends an HTTP request to the server.</li><li>When the server carries out the request, it realizes that it needs to remember some information about this client.</li><li>In the HTTP response the server sends back to the client, it tells the client to create a new cookie containing a specific key and a specific value.</li><li>When the client receives the HTTP response, it should create a cookie with the key and value the server instructed it to do in the response.</li><li>When the client sends HTTP requests to the server in the future, it should pass along the cookie (the key-value pair) to the server.</li></ol><p>This is visualized in <span class="whole" data-v-6169d342><!----><span class="figureNumber" data-v-6169d342></span><!----></span> below.</p><figure data-v-c2e176ba><!--[--><div class="mermaid" data-v-78c3786c></div><!--]--><figcaption data-v-c2e176ba>Sequence Diagram visualizing how cookies work.</figcaption><span class="incrementFigureNumber" data-v-c2e176ba></span></figure><p>So simply put: the server can tell the client to create cookies, the cookies are stored on the client (how is up to the client to decide, but most web browsers simply store them in files), and the client sends the cookies to the server in the HTTP requests it sends to it.</p><h3 id="creating-a-cookie" tabindex="-1"><a class="header-anchor" href="#creating-a-cookie" aria-hidden="true">#</a> Creating a cookie</h3><p>The server can tell a client to create a new cookie by adding the <code>Set-Cookie</code> header in the HTTP response. The value for this header is <code>key=value</code>. If the server wants the client to create multiple cookies, this header will be present multiple times in the HTTP response (one time for each cookie).</p><div class="custom-container tip"><p class="custom-container-title">Example</p><p>If the server wants a client to create a cookie with the key <code>age</code> and the value <code>17</code> and a cookie with the key <code>city</code> and the value <code>Jönköping</code>, it should send back an HTTP response like the one below (the status code does of course not have to be 200).</p><div class="language-http ext-http line-numbers-mode"><pre class="language-http"><code><span class="token header-name keyword">TODO:</span> CHECK THIS
<span class="token response-status"><span class="token http-version property">HTTP/1.1</span> <span class="token status-code number">200</span> <span class="token reason-phrase string">OK</span></span>
<span class="token header-name keyword">Set-Cookie:</span> age=17
<span class="token header-name keyword">Set-Cookie:</span> city=Jönköping
...
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></div><h3 id="sending-a-cookie" tabindex="-1"><a class="header-anchor" href="#sending-a-cookie" aria-hidden="true">#</a> Sending a cookie</h3><p>The client can send a cookie in an HTTP request by adding the <code>Cookie</code> header to the HTTP request. The value for this header is <code>key=value</code>. If the client wants to send multiple cookies, this header will be present multiple times in the HTTP request (one time for each cookie).</p><div class="custom-container tip"><p class="custom-container-title">Example</p><div class="language-http ext-http line-numbers-mode"><pre class="language-http"><code><span class="token header-name keyword">TODO:</span> FIX THIS
<span class="token header-name keyword">Set-Cookie:</span> age=17
<span class="token header-name keyword">Set-Cookie:</span> city=Jönköping
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></div><h2 id="configuring-cookies" tabindex="-1"><a class="header-anchor" href="#configuring-cookies" aria-hidden="true">#</a> Configuring cookies</h2><p>When a server tells a client to create a new cookie, it can tell the client more infromation about the cookie than just the key and the value of the cookie. It can for example tell the client for how long time the cookie should be stored by the client.</p><p>...</p><h2 id="what-can-we-use-cookies-for" tabindex="-1"><a class="header-anchor" href="#what-can-we-use-cookies-for" aria-hidden="true">#</a> What can we use cookies for?</h2><p>To remember infromation about the client/user. What that information is up to you to decide, but heere are some examples.</p><p>...</p><h2 id="anything-special-to-think-about-when-using-cookies" tabindex="-1"><a class="header-anchor" href="#anything-special-to-think-about-when-using-cookies" aria-hidden="true">#</a> Anything special to think about when using cookies?</h2><h3 id="the-server-can-t-trust-cookies" tabindex="-1"><a class="header-anchor" href="#the-server-can-t-trust-cookies" aria-hidden="true">#</a> The server can&#39;t trust cookies</h3><p>Since the cookies are stored on the client, the client can easilly modify them, and therefor the server can&#39;t trust the cookies it receives. For example:</p><ul><li>If a server tells a client to create a cookie, it can&#39;t count on to receive this cookie in future requests from the client (the client can ignore creating the cookie, or the user might simply manually delete it).</li><li>When a server receives a cookie with a name it has previously told the client to create, it can&#39;t trust that the value in the cookie is the same value as it told the client to put in the cookie since the client easilly can change that value.</li><li>Nothing prevents a client from creating its own cookies, without the server telling it, so the server might reveice cookies from a client before it has told the client to create any.</li></ul><div class="custom-container tip"><p class="custom-container-title">Example</p><p>When the server receives a sucessfull login request, it can&#39;t remember that the client has logged by using a cookie like <code>isLoggedIn=true</code>, because any client (imagine hackers) can create a cookie like this one on their own without sending a successfull login request to the server. In this case, we should rather have used sessions instead.</p></div><h3 id="the-cookie-law" tabindex="-1"><a class="header-anchor" href="#the-cookie-law" aria-hidden="true">#</a> The cookie law</h3><p>Many websites make use of client-side JavaScript libraries, and these can be used by the library creator to track which website a specific user is visiting using cookies (client-side JavaScript can tell the web browser to create cookies too). European Union thought that this could risk users&#39; privacy online, and therefor introduced a EU directive which become known as the cookie law.</p><p>The directive simply states that ...</p><h3 id="gdpr" tabindex="-1"><a class="header-anchor" href="#gdpr" aria-hidden="true">#</a> GDPR</h3><p>...</p><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="nav-link external meta-item-label" href="https://github.com/PeppeL-G/course-material/edit/master/src/lectures/web-cookies/README.md" rel="noopener noreferrer" target="_blank" aria-label="Improve this page!"><!--[--><!--]--> Improve this page! <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><span class="meta-item-info">11/22/2021, 12:59:37 PM</span></div><!----></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script src="/course-material/assets/js/runtime~app.56804a52.js" defer></script><script src="/course-material/assets/js/1812.04b2fb73.js" defer></script><script src="/course-material/assets/js/app.f6603639.js" defer></script>
  </body>
</html>
